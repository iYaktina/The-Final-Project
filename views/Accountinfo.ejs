<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>User Account Information</title>
		<link rel="stylesheet" href="../public/css/user.css" />
		<link rel="stylesheet" href="../public/css/main.css" />
	</head>
	<body>
		<header>
			<span class="year">2010-2024</span>
			<a href="/" class="logo"
				><img src="../public/images/logo.jpg" alt="logo"
			/></a>
			<a href="#" class="menu" onclick="toggleMenu();"></a>
		</header>
		<%- include('partials/nav', { loggedInUser: loggedInUser }) %>
		<script>
			const userId = "<%= loggedInUser._id %>";
		</script>
		<div class="container">
			<div class="title">User Account Information</div>

			<!-- Buttons to reveal sections -->
			<div class="button-container">
				<button class="button" onclick="toggleSection('personal-info')">
					Personal Info
				</button>
				<button class="button" onclick="toggleSection('order-history')">
					Order History
				</button>
				<button
					class="button"
					onclick="toggleSection('payment-method')"
				>
					Payment Method
				</button>
				<button class="button" onclick="toggleSection('address')">
					Address
				</button>
			</div>

			<!-- Personal Information Section -->
			<div id="personal-info" class="section">
				<h2>Personal Information</h2>
				<form id="personal-info-form">
					<div class="form-group">
						<label for="name">Name</label>
						<input
							type="text"
							id="name"
							name="name"
							placeholder="Enter your name"
							disabled
						/>
						<span class="edit-icon" onclick="enableEdit('name')"
							>Edit ✏️</span
						>
					</div>
					<div class="form-group">
						<label for="username">Username</label>
						<input
							type="text"
							id="username"
							name="username"
							placeholder="Enter your username"
							disabled
						/>
						<span class="edit-icon" onclick="enableEdit('username')"
							>Edit ✏️</span
						>
					</div>
					<div class="form-group">
						<label for="birthyear">Birth Year</label>
						<input
							type="text"
							id="birthyear"
							name="birthyear"
							placeholder="Enter your birth year"
							disabled
						/>
						<span
							class="edit-icon"
							onclick="enableEdit('birthyear')"
							>Edit ✏️</span
						>
					</div>
					<button type="submit" class="button">Save Changes</button>
				</form>
			</div>
			<!-- Order History Section -->
			<div id="order-history" class="section hidden">
				<h2>Order History</h2>
				<ul id="orderList" class="ull">
					<!-- Orders will be dynamically added here -->
				</ul>
				<p id="noOrderText" class="no-order-text hidden">
					No orders yet.
				</p>
			</div>

			<!-- Payment Method Section -->
			<div id="payment-method" class="section hidden">
				<h2>Payment Method</h2>
				<br />
				<form id="paymentForm">
					<div class="form-group">
						<label for="existing-payment-method"
							>Current Payment Method</label
						>
						<input
							type="text"
							id="existing-payment-method"
							name="existing-payment-method"
							placeholder="**** **** **** 1234"
							disabled
						/>
					</div>

					<div class="form-group">
						<label for="card-number">Card Number</label>
						<input
							type="text"
							id="card-number"
							name="cardNumber"
							inputmode="numeric"
							pattern="[0-9\s]{13,19}"
							autocomplete="cc-number"
							placeholder="Enter your card number"
						/>
					</div>

					<div class="form-group">
						<label for="expiration-date">Expiration Date</label>
						<input
							type="month"
							id="expiration-date"
							name="expirationDate"
						/>
					</div>

					<div class="form-group">
						<label for="cvv">CVV</label>
						<input
							type="text"
							id="cvv"
							name="cvv"
							inputmode="numeric"
							pattern="[0-9]{3,4}"
							autocomplete="cc-csc"
							placeholder="Enter your CVV"
						/>
					</div>

					<button type="submit" class="button">Save Changes</button>
				</form>
			</div>

			<!-- Address Section -->
			<div id="address" class="section hidden">
				<h2>Address</h2>
				<form id="addressform">
					<div class="form-group">
						<label for="street-address">Street Address</label>
						<input
							type="text"
							id="street-address"
							name="street-address"
							placeholder="Enter your street address"
							disabled
						/>
						<span
							class="edit-icon"
							onclick="enableEdit('street-address')"
							>Edit ✏️</span
						>
					</div>
					<div class="form-group">
						<label for="city">City</label>
						<input
							type="text"
							id="city"
							name="city"
							placeholder="Enter your city"
							disabled
						/>
						<span class="edit-icon" onclick="enableEdit('city')"
							>Edit ✏️</span
						>
					</div>
					<div class="form-group">
						<label for="state">State</label>
						<input
							type="text"
							id="state"
							name="state"
							placeholder="Enter your state"
							disabled
						/>
						<span class="edit-icon" onclick="enableEdit('state')"
							>Edit ✏️</span
						>
					</div>
					<div class="form-group">
						<label for="zipcode">Zip Code</label>
						<input
							type="text"
							id="zipcode"
							name="zipcode"
							placeholder="Enter your zip code"
							disabled
						/>
						<span class="edit-icon" onclick="enableEdit('zipcode')"
							>Edit ✏️</span
						>
					</div>
					<button type="submit" class="button">Save Changes</button>
				</form>
			</div>
		</div>
		<script src="../public/js/userinfo.js"></script>
	</body>
</html>
